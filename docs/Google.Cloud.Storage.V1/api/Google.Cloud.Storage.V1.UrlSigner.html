<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class UrlSigner
   | Google.Cloud.Storage.V1 </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class UrlSigner
   | Google.Cloud.Storage.V1 ">
    <meta name="generator" content="docfx 2.50.0.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Google.Cloud.Storage.V1.UrlSigner">
  
  
  <h1 id="Google_Cloud_Storage_V1_UrlSigner" data-uid="Google.Cloud.Storage.V1.UrlSigner" class="text-break">Class UrlSigner
  </h1>
  <div class="markdown level0 summary"><p>Class which helps create signed URLs which can be used to provide limited access to specific buckets and objects
to anyone in possession of the URL, regardless of whether they have a Google account.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">UrlSigner</span></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <span class="xref">System.Object.ToString()</span>
    </div>
    <div>
      <span class="xref">System.Object.GetHashCode()</span>
    </div>
    <div>
      <span class="xref">System.Object.GetType()</span>
    </div>
    <div>
      <span class="xref">System.Object.MemberwiseClone()</span>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Google.Cloud.Storage.V1.html">Google.Cloud.Storage.V1</a></h6>
  <h6><strong>Assembly</strong>: Google.Cloud.Storage.V1.dll</h6>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public sealed class UrlSigner</code></pre>
  </div>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>See <a href="https://cloud.google.com/storage/docs/access-control/signed-urls">https://cloud.google.com/storage/docs/access-control/signed-urls</a> for more information on signed URLs.</p>
</div>
  <h3 id="properties">Properties
  </h3>
  <a id="Google_Cloud_Storage_V1_UrlSigner_ResumableHttpMethod_" data-uid="Google.Cloud.Storage.V1.UrlSigner.ResumableHttpMethod*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_ResumableHttpMethod" data-uid="Google.Cloud.Storage.V1.UrlSigner.ResumableHttpMethod">ResumableHttpMethod</h4>
  <div class="markdown level1 summary"><p>Gets a special HTTP method which can be used to create a signed URL for initiating a resumable upload.
See <a href="https://cloud.google.com/storage/docs/access-control/signed-urls#signing-resumable">https://cloud.google.com/storage/docs/access-control/signed-urls#signing-resumable</a> for more information.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static HttpMethod ResumableHttpMethod { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Net.Http.HttpMethod</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_ResumableHttpMethod_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>Note: When using the RESUMABLE method to create a signed URL, a URL will actually be signed for the POST method with a header of
&apos;x-goog-resumable:start&apos;. The caller must perform a POST request with this URL and specify the &apos;x-goog-resumable:start&apos; header as
well or signature validation will fail.</p>
</div>
  <h3 id="methods">Methods
  </h3>
  <a id="Google_Cloud_Storage_V1_UrlSigner_FromBlobSigner_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromBlobSigner*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_FromBlobSigner_Google_Cloud_Storage_V1_UrlSigner_IBlobSigner_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromBlobSigner(Google.Cloud.Storage.V1.UrlSigner.IBlobSigner)">FromBlobSigner(UrlSigner.IBlobSigner)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a> instance for a custom blob signer.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static UrlSigner FromBlobSigner(UrlSigner.IBlobSigner signer)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.IBlobSigner.html">UrlSigner.IBlobSigner</a></td>
        <td><span class="parametername">signer</span></td>
        <td><p>The blob signer to use. Must not be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a></td>
        <td><p>A new <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a> using the specified blob signer.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_FromBlobSigner_Google_Cloud_Storage_V1_UrlSigner_IBlobSigner__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>This method is typically used when a service account credential file isn&apos;t available, either
for testing or to use the IAM service&apos;s blob signing capabilities.</p>
</div>
  <a id="Google_Cloud_Storage_V1_UrlSigner_FromServiceAccountCredential_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromServiceAccountCredential*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_FromServiceAccountCredential_Google_Apis_Auth_OAuth2_ServiceAccountCredential_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromServiceAccountCredential(Google.Apis.Auth.OAuth2.ServiceAccountCredential)">FromServiceAccountCredential(ServiceAccountCredential)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a> instance for a service account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static UrlSigner FromServiceAccountCredential(ServiceAccountCredential credential)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://googleapis.dev/dotnet/Google.Apis.Auth/1.44.1/api/Google.Apis.Auth.OAuth2.ServiceAccountCredential.html">ServiceAccountCredential</a></td>
        <td><span class="parametername">credential</span></td>
        <td><p>The credential for the a service account. Must not be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Storage_V1_UrlSigner_FromServiceAccountData_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromServiceAccountData*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_FromServiceAccountData_System_IO_Stream_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromServiceAccountData(System.IO.Stream)">FromServiceAccountData(Stream)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a> instance for a service account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static UrlSigner FromServiceAccountData(Stream credentialData)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.IO.Stream</span></td>
        <td><span class="parametername">credentialData</span></td>
        <td><p>The stream from which to read the JSON key data for a service account. Must not be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="exceptions">Exceptions</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.InvalidOperationException</span></td>
        <td><p>The <code data-dev-comment-type="paramref" class="paramref">credentialData</code> does not contain valid JSON service account key data.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Storage_V1_UrlSigner_FromServiceAccountPath_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromServiceAccountPath*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_FromServiceAccountPath_System_String_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromServiceAccountPath(System.String)">FromServiceAccountPath(String)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a> instance for a service account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static UrlSigner FromServiceAccountPath(string credentialFilePath)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">credentialFilePath</span></td>
        <td><p>The path to the JSON key file for a service account. Must not be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="exceptions">Exceptions</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.InvalidOperationException</span></td>
        <td><p>The <code data-dev-comment-type="paramref" class="paramref">credentialFilePath</code> does not refer to a valid JSON service account key file.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Storage_V1_UrlSigner_Sign_" data-uid="Google.Cloud.Storage.V1.UrlSigner.Sign*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_Sign_Google_Cloud_Storage_V1_UrlSigner_RequestTemplate_Google_Cloud_Storage_V1_UrlSigner_Options_" data-uid="Google.Cloud.Storage.V1.UrlSigner.Sign(Google.Cloud.Storage.V1.UrlSigner.RequestTemplate,Google.Cloud.Storage.V1.UrlSigner.Options)">Sign(UrlSigner.RequestTemplate, UrlSigner.Options)</h4>
  <div class="markdown level1 summary"><p>Creates a signed URL which can be used to provide limited access to specific buckets and objects to anyone
in possession of the URL, regardless of whether they have a Google account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string Sign(UrlSigner.RequestTemplate requestTemplate, UrlSigner.Options options)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.RequestTemplate.html">UrlSigner.RequestTemplate</a></td>
        <td><span class="parametername">requestTemplate</span></td>
        <td><p>The request template that will be used to generate the signed URL for. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.Options.html">UrlSigner.Options</a></td>
        <td><span class="parametername">options</span></td>
        <td><p>The options used to generate the signed URL. Must not be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><p>The signed URL which can be used to provide access to a bucket or object for a limited amount of time.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_Sign_Google_Cloud_Storage_V1_UrlSigner_RequestTemplate_Google_Cloud_Storage_V1_UrlSigner_Options__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>
When a <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a> is created with a service account credential, the signing can be performed
with no network access. When it is created with an implementation of <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.IBlobSigner.html">UrlSigner.IBlobSigner</a>, that may require
network access or other IO. In that case, one of the asynchronous methods should be used when the caller is
in a context that should not block.
</p>
<p>
See <a href="https://cloud.google.com/storage/docs/access-control/signed-urls">https://cloud.google.com/storage/docs/access-control/signed-urls</a> for more information on signed URLs.
</p>
</div>
  <div>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_Sign_Google_Cloud_Storage_V1_UrlSigner_RequestTemplate_Google_Cloud_Storage_V1_UrlSigner_Options__snippet">Sample code</h5>
  <div class="markdown level1"><p>See <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html#Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_TimeSpan_System_Net_Http_HttpMethod_System_Nullable_Google_Cloud_Storage_V1_SigningVersion__">Sign</a> for an example using an alternative overload.</p>
</div>
  </div>
  <a id="Google_Cloud_Storage_V1_UrlSigner_Sign_" data-uid="Google.Cloud.Storage.V1.UrlSigner.Sign*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_TimeSpan_System_Net_Http_HttpMethod_System_Nullable_Google_Cloud_Storage_V1_SigningVersion__" data-uid="Google.Cloud.Storage.V1.UrlSigner.Sign(System.String,System.String,System.TimeSpan,System.Net.Http.HttpMethod,System.Nullable{Google.Cloud.Storage.V1.SigningVersion})">Sign(String, String, TimeSpan, HttpMethod, Nullable&lt;SigningVersion&gt;)</h4>
  <div class="markdown level1 summary"><p>Creates a signed URL which can be used to provide limited access to specific buckets and objects to anyone
in possession of the URL, regardless of whether they have a Google account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string Sign(string bucket, string objectName, TimeSpan duration, HttpMethod httpMethod = null, SigningVersion? signingVersion = default(SigningVersion? ))</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">bucket</span></td>
        <td><p>The name of the bucket. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">objectName</span></td>
        <td><p>The name of the object within the bucket. May be null, in which case the signed URL
will refer to the bucket instead of an object.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.TimeSpan</span></td>
        <td><span class="parametername">duration</span></td>
        <td><p>The length of time for which the signed URL should remain usable.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Net.Http.HttpMethod</span></td>
        <td><span class="parametername">httpMethod</span></td>
        <td><p>The HTTP request method for which the signed URL is allowed to be used. May be null,
in which case GET will be used.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Nullable</span>&lt;<a class="xref" href="Google.Cloud.Storage.V1.SigningVersion.html">SigningVersion</a>&gt;</td>
        <td><span class="parametername">signingVersion</span></td>
        <td><p>The signing version to use to generate the signed URL. May be null, in which case
<a class="xref" href="Google.Cloud.Storage.V1.SigningVersion.html#Google_Cloud_Storage_V1_SigningVersion_Default">Default</a> will be used.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><p>The signed URL which can be used to provide access to a bucket or object for a limited amount of time.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_TimeSpan_System_Net_Http_HttpMethod_System_Nullable_Google_Cloud_Storage_V1_SigningVersion___remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>
When a <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a> is created with a service account credential, the signing can be performed
with no network access. When it is created with an implementation of <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.IBlobSigner.html">UrlSigner.IBlobSigner</a>, that may require
network access or other IO. In that case, one of the asynchronous methods should be used when the caller is
in a context that should not block.
</p>
<p>
See <a href="https://cloud.google.com/storage/docs/access-control/signed-urls">https://cloud.google.com/storage/docs/access-control/signed-urls</a> for more information on signed URLs.
</p>
<p>
Note that when GET is specified as the <code data-dev-comment-type="paramref" class="paramref">httpMethod</code> (or it is null, in which case GET is
used), both GET and HEAD requests can be made with the created signed URL.
</p>
</div>
  <div>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_TimeSpan_System_Net_Http_HttpMethod_System_Nullable_Google_Cloud_Storage_V1_SigningVersion___snippet">Sample code</h5>
  <div class="markdown level1"><pre><code class="lang-cs">// Create a signed URL which can be used to get a specific object for one hour.
UrlSigner urlSigner = UrlSigner.FromServiceAccountCredential(credential);
string url = urlSigner.Sign(bucketName, objectName, TimeSpan.FromHours(1));

// Get the content at the created URL.
HttpResponseMessage response = await httpClient.GetAsync(url);
string content = await response.Content.ReadAsStringAsync();
</code></pre></div>
  </div>
  <a id="Google_Cloud_Storage_V1_UrlSigner_SignAsync_" data-uid="Google.Cloud.Storage.V1.UrlSigner.SignAsync*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_SignAsync_Google_Cloud_Storage_V1_UrlSigner_RequestTemplate_Google_Cloud_Storage_V1_UrlSigner_Options_System_Threading_CancellationToken_" data-uid="Google.Cloud.Storage.V1.UrlSigner.SignAsync(Google.Cloud.Storage.V1.UrlSigner.RequestTemplate,Google.Cloud.Storage.V1.UrlSigner.Options,System.Threading.CancellationToken)">SignAsync(UrlSigner.RequestTemplate, UrlSigner.Options, CancellationToken)</h4>
  <div class="markdown level1 summary"><p>Asynchronously creates a signed URL which can be used to provide limited access to specific buckets and objects to anyone
in possession of the URL, regardless of whether they have a Google account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;string&gt; SignAsync(UrlSigner.RequestTemplate requestTemplate, UrlSigner.Options options, CancellationToken cancellationToken = default(CancellationToken))</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.RequestTemplate.html">UrlSigner.RequestTemplate</a></td>
        <td><span class="parametername">requestTemplate</span></td>
        <td><p>The request template that will be used to generate the signed URL for. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.Options.html">UrlSigner.Options</a></td>
        <td><span class="parametername">options</span></td>
        <td><p>The options used to generate the signed URL. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Threading.CancellationToken</span></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td><p>The token to monitor for cancellation requests.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.Tasks.Task</span>&lt;<span class="xref">System.String</span>&gt;</td>
        <td><p>A task representing the asynchronous operation, with a result returning the
signed URL which can be used to provide access to a bucket or object for a limited amount of time.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_SignAsync_Google_Cloud_Storage_V1_UrlSigner_RequestTemplate_Google_Cloud_Storage_V1_UrlSigner_Options_System_Threading_CancellationToken__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>
When a <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a> is created with a service account credential, the signing can be performed
with no network access. When it is created with an implementation of <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.IBlobSigner.html">UrlSigner.IBlobSigner</a>, that may require
network access or other IO. In that case, one of the asynchronous methods should be used when the caller is
in a context that should not block.
</p>
<p>
See <a href="https://cloud.google.com/storage/docs/access-control/signed-urls">https://cloud.google.com/storage/docs/access-control/signed-urls</a> for more information on signed URLs.
</p>
</div>
  <a id="Google_Cloud_Storage_V1_UrlSigner_SignAsync_" data-uid="Google.Cloud.Storage.V1.UrlSigner.SignAsync*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_SignAsync_System_String_System_String_System_TimeSpan_System_Net_Http_HttpMethod_System_Nullable_Google_Cloud_Storage_V1_SigningVersion__System_Threading_CancellationToken_" data-uid="Google.Cloud.Storage.V1.UrlSigner.SignAsync(System.String,System.String,System.TimeSpan,System.Net.Http.HttpMethod,System.Nullable{Google.Cloud.Storage.V1.SigningVersion},System.Threading.CancellationToken)">SignAsync(String, String, TimeSpan, HttpMethod, Nullable&lt;SigningVersion&gt;, CancellationToken)</h4>
  <div class="markdown level1 summary"><p>Creates a signed URL which can be used to provide limited access to specific buckets and objects to anyone
in possession of the URL, regardless of whether they have a Google account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;string&gt; SignAsync(string bucket, string objectName, TimeSpan duration, HttpMethod httpMethod = null, SigningVersion? signingVersion = default(SigningVersion? ), CancellationToken cancellationToken = default(CancellationToken))</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">bucket</span></td>
        <td><p>The name of the bucket. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">objectName</span></td>
        <td><p>The name of the object within the bucket. May be null, in which case the signed URL
will refer to the bucket instead of an object.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.TimeSpan</span></td>
        <td><span class="parametername">duration</span></td>
        <td><p>The length of time for which the signed URL should remain usable.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Net.Http.HttpMethod</span></td>
        <td><span class="parametername">httpMethod</span></td>
        <td><p>The HTTP request method for which the signed URL is allowed to be used. May be null,
in which case GET will be used.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Nullable</span>&lt;<a class="xref" href="Google.Cloud.Storage.V1.SigningVersion.html">SigningVersion</a>&gt;</td>
        <td><span class="parametername">signingVersion</span></td>
        <td><p>The signing version to use to generate the signed URL. May be null, in which case
<a class="xref" href="Google.Cloud.Storage.V1.SigningVersion.html#Google_Cloud_Storage_V1_SigningVersion_Default">Default</a> will be used.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Threading.CancellationToken</span></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td><p>The token to monitor for cancellation requests.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.Tasks.Task</span>&lt;<span class="xref">System.String</span>&gt;</td>
        <td><p>A task representing the asynchronous operation, with a result returning the
signed URL which can be used to provide access to a bucket or object for a limited amount of time.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_SignAsync_System_String_System_String_System_TimeSpan_System_Net_Http_HttpMethod_System_Nullable_Google_Cloud_Storage_V1_SigningVersion__System_Threading_CancellationToken__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>
When a <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a> is created with a service account credential, the signing can be performed
with no network access. When it is created with an implementation of <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.IBlobSigner.html">UrlSigner.IBlobSigner</a>, that may require
network access or other IO. In that case, one of the asynchronous methods should be used when the caller is
in a context that should not block.
</p>
<p>
See <a href="https://cloud.google.com/storage/docs/access-control/signed-urls">https://cloud.google.com/storage/docs/access-control/signed-urls</a> for more information on signed URLs.
</p>
<p>
Note that when GET is specified as the <code data-dev-comment-type="paramref" class="paramref">httpMethod</code> (or it is null, in which case GET is
used), both GET and HEAD requests can be made with the created signed URL.
</p>
</div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
             
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
