<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class UrlSigner
   | Google.Cloud.Storage.V1 </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class UrlSigner
   | Google.Cloud.Storage.V1 ">
    <meta name="generator" content="docfx 2.18.5.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Google.Cloud.Storage.V1.UrlSigner">
  
  
  <h1 id="Google_Cloud_Storage_V1_UrlSigner" data-uid="Google.Cloud.Storage.V1.UrlSigner">Class UrlSigner
  </h1>
  <div class="markdown level0 summary"><p>Class which helps create signed URLs which can be used to provide limited access to specific buckets and objects
to anyone in possession of the URL, regardless of whether they have a Google account.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">UrlSigner</span></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <span class="xref">System.Object.ToString()</span>
    </div>
    <div>
      <span class="xref">System.Object.GetHashCode()</span>
    </div>
    <div>
      <span class="xref">System.Object.GetType()</span>
    </div>
    <div>
      <span class="xref">System.Object.MemberwiseClone()</span>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Google.Cloud.Storage.V1.html">Google.Cloud.Storage.V1</a></h6>
  <h6><strong>Assembly</strong>: Google.Cloud.Storage.V1.dll</h6>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public sealed class UrlSigner</code></pre>
  </div>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>See <a href="https://cloud.google.com/storage/docs/access-control/signed-urls">https://cloud.google.com/storage/docs/access-control/signed-urls</a> for more information on signed URLs.</p>
</div>
  <h3 id="properties">Properties
  </h3>
  <a id="Google_Cloud_Storage_V1_UrlSigner_ResumableHttpMethod_" data-uid="Google.Cloud.Storage.V1.UrlSigner.ResumableHttpMethod*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_ResumableHttpMethod" data-uid="Google.Cloud.Storage.V1.UrlSigner.ResumableHttpMethod">ResumableHttpMethod</h4>
  <div class="markdown level1 summary"><p>Gets a special HTTP method which can be used to create a signed URL for initiating a resumable upload.
See <a href="https://cloud.google.com/storage/docs/access-control/signed-urls#signing-resumable">https://cloud.google.com/storage/docs/access-control/signed-urls#signing-resumable</a> for more information.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static HttpMethod ResumableHttpMethod { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Net.Http.HttpMethod</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_ResumableHttpMethod_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>Note: When using the RESUMABLE method to create a signed URL, a URL will actually be signed for the POST method with a header of
&#39;x-goog-resumable:start&#39;. The caller must perform a POST request with this URL and specify the &#39;x-goog-resumable:start&#39; header as
well or signature validation will fail.</p>
</div>
  <h3 id="methods">Methods
  </h3>
  <a id="Google_Cloud_Storage_V1_UrlSigner_FromServiceAccountCredential_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromServiceAccountCredential*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_FromServiceAccountCredential_Google_Apis_Auth_OAuth2_ServiceAccountCredential_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromServiceAccountCredential(Google.Apis.Auth.OAuth2.ServiceAccountCredential)">FromServiceAccountCredential(ServiceAccountCredential)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a> instance for a service account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static UrlSigner FromServiceAccountCredential(ServiceAccountCredential credential)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Google.Apis.Auth.OAuth2.ServiceAccountCredential</span></td>
        <td><span class="parametername">credential</span></td>
        <td><p>The credential for the a service account. Must not be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Storage_V1_UrlSigner_FromServiceAccountData_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromServiceAccountData*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_FromServiceAccountData_System_IO_Stream_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromServiceAccountData(System.IO.Stream)">FromServiceAccountData(Stream)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a> instance for a service account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static UrlSigner FromServiceAccountData(Stream credentialData)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.IO.Stream</span></td>
        <td><span class="parametername">credentialData</span></td>
        <td><p>The stream from which to read the JSON key data for a service account. Must not be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="exceptions">Exceptions</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.InvalidOperationException</span></td>
        <td><p>The <span class="paramref">credentialData</span> does not contain valid JSON service account key data.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Storage_V1_UrlSigner_FromServiceAccountPath_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromServiceAccountPath*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_FromServiceAccountPath_System_String_" data-uid="Google.Cloud.Storage.V1.UrlSigner.FromServiceAccountPath(System.String)">FromServiceAccountPath(String)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a> instance for a service account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static UrlSigner FromServiceAccountPath(string credentialFilePath)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">credentialFilePath</span></td>
        <td><p>The path to the JSON key file for a service account. Must not be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html">UrlSigner</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="exceptions">Exceptions</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.InvalidOperationException</span></td>
        <td><p>The <span class="paramref">credentialFilePath</span> does not refer to a valid JSON service account key file.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Storage_V1_UrlSigner_Sign_" data-uid="Google.Cloud.Storage.V1.UrlSigner.Sign*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_Nullable_System_DateTimeOffset__System_Net_Http_HttpMethod_System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___" data-uid="Google.Cloud.Storage.V1.UrlSigner.Sign(System.String,System.String,System.Nullable{System.DateTimeOffset},System.Net.Http.HttpMethod,System.Collections.Generic.Dictionary{System.String,System.Collections.Generic.IEnumerable{System.String}},System.Collections.Generic.Dictionary{System.String,System.Collections.Generic.IEnumerable{System.String}})">Sign(String, String, Nullable&lt;DateTimeOffset&gt;, HttpMethod, Dictionary&lt;String, IEnumerable&lt;String&gt;&gt;, Dictionary&lt;String, IEnumerable&lt;String&gt;&gt;)</h4>
  <div class="markdown level1 summary"><p>Creates a signed URL which can be used to provide limited access to specific buckets and objects to anyone
in possession of the URL, regardless of whether they have a Google account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string Sign(string bucket, string objectName, DateTimeOffset? expiration, HttpMethod requestMethod = null, Dictionary&lt;string, IEnumerable&lt;string&gt;&gt; requestHeaders = null, Dictionary&lt;string, IEnumerable&lt;string&gt;&gt; contentHeaders = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">bucket</span></td>
        <td><p>The name of the bucket. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">objectName</span></td>
        <td><p>The name of the object within the bucket. May be null, in which case the signed URL
will refer to the bucket instead of an object.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Nullable</span>&lt;<span class="xref">System.DateTimeOffset</span>&gt;</td>
        <td><span class="parametername">expiration</span></td>
        <td><p>The point in time after which the signed URL will be invalid. May be null, in which
case the signed URL never expires.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Net.Http.HttpMethod</span></td>
        <td><span class="parametername">requestMethod</span></td>
        <td><p>The HTTP request method for which the signed URL is allowed to be used. May be null,
in which case GET will be used.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Collections.Generic.Dictionary</span>&lt;<span class="xref">System.String</span>, <span class="xref">System.Collections.Generic.IEnumerable</span>&lt;<span class="xref">System.String</span>&gt;&gt;</td>
        <td><span class="parametername">requestHeaders</span></td>
        <td><p>The headers which will be included with the request. May be null.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Collections.Generic.Dictionary</span>&lt;<span class="xref">System.String</span>, <span class="xref">System.Collections.Generic.IEnumerable</span>&lt;<span class="xref">System.String</span>&gt;&gt;</td>
        <td><span class="parametername">contentHeaders</span></td>
        <td><p>The headers for the content which will be included with the request.
May be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><p>The signed URL which can be used to provide access to a bucket or object for a limited amount of time.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_Nullable_System_DateTimeOffset__System_Net_Http_HttpMethod_System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String____remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>
When either of the headers collections are specified, there are certain headers which will be included in the
signed URL&#39;s signature, and therefore must be included in requests made with the created URL. These are the
Content-MD5 and Content-Type content headers as well as any content or request header with a name starting
with &quot;x-goog-&quot;.
</p>
<p>
If the headers collections are null or empty, no headers are included in the signed URL&#39;s signature, so any
requests made with the created URL must not contain Content-MD5, Content-Type, or any header starting with &quot;x-goog-&quot;.
</p>
<p>
Note that if the entity is encrypted with customer-supplied encryption keys (see
<a href="https://cloud.google.com/storage/docs/encryption">https://cloud.google.com/storage/docs/encryption</a> for more information), the <strong>x-goog-encryption-algorithm</strong>,
<strong>x-goog-encryption-key</strong>, and <strong>x-goog-encryption-key-sha256</strong> headers will be required when making the
request. However, only the x-goog-encryption-algorithm header is included in the signature for the signed URL.
So the <span class="paramref">requestHeaders</span> specified only need to have the x-goog-encryption-algorithm header.
The other headers can be included, but will be ignored.
</p>
<p>
Note that when GET is specified as the <span class="paramref">requestMethod</span> (or it is null, in which case GET is
used), both GET and HEAD requests can be made with the created signed URL.
</p>
<p>
See <a href="https://cloud.google.com/storage/docs/access-control/signed-urls">https://cloud.google.com/storage/docs/access-control/signed-urls</a> for more information on signed URLs.
</p>
</div>
  <div>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_Nullable_System_DateTimeOffset__System_Net_Http_HttpMethod_System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String____snippet">Sample code</h5>
  <div class="markdown level1"><p>See <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html#Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_TimeSpan_System_Net_Http_HttpMethod_System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___">Sign</a> for an example using an alternative overload.</p>
</div>
  </div>
  <a id="Google_Cloud_Storage_V1_UrlSigner_Sign_" data-uid="Google.Cloud.Storage.V1.UrlSigner.Sign*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_Nullable_System_DateTimeOffset__System_Net_Http_HttpRequestMessage_" data-uid="Google.Cloud.Storage.V1.UrlSigner.Sign(System.String,System.String,System.Nullable{System.DateTimeOffset},System.Net.Http.HttpRequestMessage)">Sign(String, String, Nullable&lt;DateTimeOffset&gt;, HttpRequestMessage)</h4>
  <div class="markdown level1 summary"><p>Creates a signed URL which can be used to provide limited access to specific buckets and objects to anyone
in possession of the URL, regardless of whether they have a Google account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string Sign(string bucket, string objectName, DateTimeOffset? expiration, HttpRequestMessage request)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">bucket</span></td>
        <td><p>The name of the bucket. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">objectName</span></td>
        <td><p>The name of the object within the bucket. May be null, in which case the signed URL
will refer to the bucket instead of an object.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Nullable</span>&lt;<span class="xref">System.DateTimeOffset</span>&gt;</td>
        <td><span class="parametername">expiration</span></td>
        <td><p>The point in time after which the signed URL will be invalid. May be null, in which
case the signed URL never expires.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Net.Http.HttpRequestMessage</span></td>
        <td><span class="parametername">request</span></td>
        <td><p>A sample request for which the signed URL might be used. May be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><p>The signed URL which can be used to provide access to a bucket or object for a limited amount of time.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_Nullable_System_DateTimeOffset__System_Net_Http_HttpRequestMessage__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>
When the <span class="paramref">request</span> is specified, some of its headers will be included in the signed URL&#39;s
signature, and therefore must be included in requests made with the created URL. These are the Content-MD5 and
Content-Type content headers as well as any content or request header with a name starting with &quot;x-goog-&quot;.
</p>
<p>
If <span class="paramref">request</span> is null, no headers are included in the signed URL&#39;s signature, so any requests
made with the created URL must not contain Content-MD5, Content-Type, or any header starting with &quot;x-goog-&quot;.
</p>
<p>
Note that if the entity is encrypted with customer-supplied encryption keys (see
<a href="https://cloud.google.com/storage/docs/encryption">https://cloud.google.com/storage/docs/encryption</a> for more information), the <strong>x-goog-encryption-algorithm</strong>,
<strong>x-goog-encryption-key</strong>, and <strong>x-goog-encryption-key-sha256</strong> headers will be required when making the
request. However, only the x-goog-encryption-algorithm header is included in the signature for the signed URL.
So the sample <span class="paramref">request</span> specified only needs to have the x-goog-encryption-algorithm request
header. The other headers can be included, but will be ignored.
</p>
<p>
Note that when GET is specified as the <span class="paramref">request</span>, both GET and HEAD requests can be made with
the created signed URL.
</p>
<p>
See <a href="https://cloud.google.com/storage/docs/access-control/signed-urls">https://cloud.google.com/storage/docs/access-control/signed-urls</a> for more information on signed URLs.
</p>
</div>
  <div>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_Nullable_System_DateTimeOffset__System_Net_Http_HttpRequestMessage__snippet">Sample code</h5>
  <div class="markdown level1"><p>See <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html#Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_TimeSpan_System_Net_Http_HttpMethod_System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___">Sign</a> for an example using an alternative overload.</p>
</div>
  </div>
  <a id="Google_Cloud_Storage_V1_UrlSigner_Sign_" data-uid="Google.Cloud.Storage.V1.UrlSigner.Sign*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_TimeSpan_System_Net_Http_HttpMethod_System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___" data-uid="Google.Cloud.Storage.V1.UrlSigner.Sign(System.String,System.String,System.TimeSpan,System.Net.Http.HttpMethod,System.Collections.Generic.Dictionary{System.String,System.Collections.Generic.IEnumerable{System.String}},System.Collections.Generic.Dictionary{System.String,System.Collections.Generic.IEnumerable{System.String}})">Sign(String, String, TimeSpan, HttpMethod, Dictionary&lt;String, IEnumerable&lt;String&gt;&gt;, Dictionary&lt;String, IEnumerable&lt;String&gt;&gt;)</h4>
  <div class="markdown level1 summary"><p>Creates a signed URL which can be used to provide limited access to specific buckets and objects to anyone
in possession of the URL, regardless of whether they have a Google account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string Sign(string bucket, string objectName, TimeSpan duration, HttpMethod requestMethod = null, Dictionary&lt;string, IEnumerable&lt;string&gt;&gt; requestHeaders = null, Dictionary&lt;string, IEnumerable&lt;string&gt;&gt; contentHeaders = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">bucket</span></td>
        <td><p>The name of the bucket. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">objectName</span></td>
        <td><p>The name of the object within the bucket. May be null, in which case the signed URL
will refer to the bucket instead of an object.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.TimeSpan</span></td>
        <td><span class="parametername">duration</span></td>
        <td><p>The length of time for which the signed URL should remain usable.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Net.Http.HttpMethod</span></td>
        <td><span class="parametername">requestMethod</span></td>
        <td><p>The HTTP request method for which the signed URL is allowed to be used. May be null,
in which case GET will be used.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Collections.Generic.Dictionary</span>&lt;<span class="xref">System.String</span>, <span class="xref">System.Collections.Generic.IEnumerable</span>&lt;<span class="xref">System.String</span>&gt;&gt;</td>
        <td><span class="parametername">requestHeaders</span></td>
        <td><p>The headers which will be included with the request. May be null.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Collections.Generic.Dictionary</span>&lt;<span class="xref">System.String</span>, <span class="xref">System.Collections.Generic.IEnumerable</span>&lt;<span class="xref">System.String</span>&gt;&gt;</td>
        <td><span class="parametername">contentHeaders</span></td>
        <td><p>The headers for the content which will be included with the request.
May be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><p>The signed URL which can be used to provide access to a bucket or object for a limited amount of time.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_TimeSpan_System_Net_Http_HttpMethod_System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String____remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>
When either of the headers collections are specified, there are certain headers which will be included in the
signed URL&#39;s signature, and therefore must be included in requests made with the created URL. These are the
Content-MD5 and Content-Type content headers as well as any content or request header with a name starting
with &quot;x-goog-&quot;.
</p>
<p>
If the headers collections are null or empty, no headers are included in the signed URL&#39;s signature, so any
requests made with the created URL must not contain Content-MD5, Content-Type, or any header starting with &quot;x-goog-&quot;.
</p>
<p>
Note that if the entity is encrypted with customer-supplied encryption keys (see
<a href="https://cloud.google.com/storage/docs/encryption">https://cloud.google.com/storage/docs/encryption</a> for more information), the <strong>x-goog-encryption-algorithm</strong>,
<strong>x-goog-encryption-key</strong>, and <strong>x-goog-encryption-key-sha256</strong> headers will be required when making the
request. However, only the x-goog-encryption-algorithm header is included in the signature for the signed URL.
So the <span class="paramref">requestHeaders</span> specified only need to have the x-goog-encryption-algorithm header.
The other headers can be included, but will be ignored.
</p>
<p>
Note that when GET is specified as the <span class="paramref">requestMethod</span> (or it is null, in which case GET is
used), both GET and HEAD requests can be made with the created signed URL.
</p>
<p>
See <a href="https://cloud.google.com/storage/docs/access-control/signed-urls">https://cloud.google.com/storage/docs/access-control/signed-urls</a> for more information on signed URLs.
</p>
</div>
  <div>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_TimeSpan_System_Net_Http_HttpMethod_System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String____snippet">Sample code</h5>
  <div class="markdown level1"><pre><code class="lang-cs">// Create a signed URL which can be used to get a specific object for one hour.
UrlSigner urlSigner = UrlSigner.FromServiceAccountCredential(credential);
string url = urlSigner.Sign(
    bucketName,
    objectName,
    TimeSpan.FromHours(1),
    HttpMethod.Get);

// Get the content at the created URL.
HttpResponseMessage response = await httpClient.GetAsync(url);
string content = await response.Content.ReadAsStringAsync();
</code></pre></div>
  </div>
  <a id="Google_Cloud_Storage_V1_UrlSigner_Sign_" data-uid="Google.Cloud.Storage.V1.UrlSigner.Sign*"></a>
  <h4 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_TimeSpan_System_Net_Http_HttpRequestMessage_" data-uid="Google.Cloud.Storage.V1.UrlSigner.Sign(System.String,System.String,System.TimeSpan,System.Net.Http.HttpRequestMessage)">Sign(String, String, TimeSpan, HttpRequestMessage)</h4>
  <div class="markdown level1 summary"><p>Creates a signed URL which can be used to provide limited access to specific buckets and objects to anyone
in possession of the URL, regardless of whether they have a Google account.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string Sign(string bucket, string objectName, TimeSpan duration, HttpRequestMessage request)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">bucket</span></td>
        <td><p>The name of the bucket. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">objectName</span></td>
        <td><p>The name of the object within the bucket. May be null, in which case the signed URL
will refer to the bucket instead of an object.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.TimeSpan</span></td>
        <td><span class="parametername">duration</span></td>
        <td><p>The length of time for which the signed URL should remain usable.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Net.Http.HttpRequestMessage</span></td>
        <td><span class="parametername">request</span></td>
        <td><p>A sample request for which the signed URL might be used. May be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><p>The signed URL which can be used to provide access to a bucket or object for a limited amount of time.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_TimeSpan_System_Net_Http_HttpRequestMessage__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>
When the <span class="paramref">request</span> is specified, some of its headers will be included in the signed URL&#39;s
signature, and therefore must be included in requests made with the created URL. These are the Content-MD5 and
Content-Type content headers as well as any content or request header with a name starting with &quot;x-goog-&quot;.
</p>
<p>
If <span class="paramref">request</span> is null, no headers are included in the signed URL&#39;s signature, so any requests
made with the created URL must not contain Content-MD5, Content-Type, or any header starting with &quot;x-goog-&quot;.
</p>
<p>
Note that if the entity is encrypted with customer-supplied encryption keys (see
<a href="https://cloud.google.com/storage/docs/encryption">https://cloud.google.com/storage/docs/encryption</a> for more information), the <strong>x-goog-encryption-algorithm</strong>,
<strong>x-goog-encryption-key</strong>, and <strong>x-goog-encryption-key-sha256</strong> headers will be required when making the
request. However, only the x-goog-encryption-algorithm header is included in the signature for the signed URL.
So the sample <span class="paramref">request</span> specified only needs to have the x-goog-encryption-algorithm request
header. The other headers can be included, but will be ignored.
</p>
<p>
Note that when GET is specified as the <span class="paramref">request</span>, both GET and HEAD requests can be made with
the created signed URL.
</p>
<p>
See <a href="https://cloud.google.com/storage/docs/access-control/signed-urls">https://cloud.google.com/storage/docs/access-control/signed-urls</a> for more information on signed URLs.
</p>
</div>
  <div>
  <h5 id="Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_TimeSpan_System_Net_Http_HttpRequestMessage__snippet">Sample code</h5>
  <div class="markdown level1"><p>See <a class="xref" href="Google.Cloud.Storage.V1.UrlSigner.html#Google_Cloud_Storage_V1_UrlSigner_Sign_System_String_System_String_System_TimeSpan_System_Net_Http_HttpMethod_System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___System_Collections_Generic_Dictionary_System_String_System_Collections_Generic_IEnumerable_System_String___">Sign</a> for an example using an alternative overload.</p>
</div>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
             
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
